{"version":3,"sources":["../../../../lib/components/tableLocal/index.tsx"],"names":["Col","Row","Select","React","TableWrapper","Table","Pagination","Option","startPage","TableLocal","props","dataSource","columns","orderingNumber","withNumber","rest","currentPage","setCurrentPage","useState","pageSize","setPageSize","currentTableData","useMemo","firstPageIndex","lastPageIndex","slice","numberColumn","title","key","width","render","value","item","index","onSizeChange","size","startItem","endItem","total","length","record","span","page"],"mappings":";;;;;;;;;AAAA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,MAAnB,QAA6C,MAA7C;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,YAAP,MAAyB,SAAzB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAOA,MAAM;AAAEC,EAAAA;AAAF,IAAaL,MAAnB;AAEA,MAAMM,SAAS,GAAG,CAAlB;;AAEA,MAAMC,UAAU,GAA+BC,KAA5B,IAA2D;AAC5E,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,OAAO,GAAG,EAAxB;AAA4BC,IAAAA,cAA5B;AAA4CC,IAAAA,UAAU,GAAG;AAAzD,MAA4EJ,KAAlF;AAAA,QAAyEK,IAAzE,4BAAkFL,KAAlF;;AAEA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCd,KAAK,CAACe,QAAN,CAAeV,SAAf,CAAtC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BjB,KAAK,CAACe,QAAN,CAAe,CAAf,CAAhC;AAEA,QAAMG,gBAAgB,GAAGlB,KAAK,CAACmB,OAAN,CAAc,MAAM;AAC3C,UAAMC,cAAc,GAAG,CAACP,WAAW,GAAG,CAAf,IAAoBG,QAA3C;AACA,UAAMK,aAAa,GAAGD,cAAc,GAAGJ,QAAvC;AACA,WAAOR,UAAU,EAAEc,KAAZ,CAAkBF,cAAlB,EAAkCC,aAAlC,CAAP;AACD,GAJwB,EAItB,CAACb,UAAD,EAAaQ,QAAb,EAAuBH,WAAvB,CAJsB,CAAzB;AAMA,QAAMU,YAAY,GAAG,CACnB;AACEC,IAAAA,KAAK,EAAE,IADT;AAEEC,IAAAA,GAAG,EAAE,OAFP;AAGEC,IAAAA,KAAK,EAAE,EAHT;AAIEC,IAAAA,MAAM,EAAE,CAACC,KAAD,EAAaC,IAAb,EAAwBC,KAAxB,KAA0C,CAACjB,WAAW,GAAG,CAAf,IAAoBG,QAApB,IAAgCc,KAAK,GAAG,CAAxC;AAJpD,GADmB,CAArB;;AASA,QAAMC,YAAY,GAAIC,IAAD,IAAwC;AAC3Df,IAAAA,WAAW,CAACe,IAAD,CAAX;AACAlB,IAAAA,cAAc,CAAC,CAAD,CAAd;AACD,GAHD;;AAKA,QAAMmB,SAAS,GAAG,CAACpB,WAAW,GAAG,CAAf,IAAoBG,QAApB,GAA+B,CAAjD;AACA,QAAMkB,OAAO,GAAGrB,WAAW,GAAGG,QAA9B;AACA,QAAMmB,KAAK,GAAG3B,UAAU,EAAE4B,MAA1B;AAEA,sBACE,oBAAC,YAAD,qBACE,oBAAC,GAAD,qBACE,oBAAC,GAAD;AAAK,IAAA,IAAI,EAAE;AAAX,kBACE,oBAAC,KAAD;AACE,IAAA,YAAY,EAAE,CAACC,MAAD,EAAcP,KAAd,KACZA,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,iBAAlB,GAAsC,gBAF1C;AAIE,IAAA,UAAU,EAAEZ,gBAJd;AAKE,IAAA,UAAU,EAAE,KALd;AAME,IAAA,OAAO,EAAEP,UAAU,GAAG,CAAC,GAAGY,YAAJ,EAAkB,GAAGd,OAArB,CAAH,GAAmCA;AANxD,KAOMG,IAPN,EADF,CADF,CADF,eAcE,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,KAAb;AAAmB,IAAA,KAAK,EAAC,QAAzB;AAAkC,IAAA,SAAS,EAAC;AAA5C,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAE0B,MAAAA,IAAI,EAAE;AAAR,KAAT;AAAsB,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA1B;AAAuC,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR;AAA3C,kBACE,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,KAAb;AAAmB,IAAA,MAAM,EAAE;AAA3B,kBACE,oBAAC,GAAD,4BADF,eAEE,oBAAC,GAAD,qBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAgC,IAAA,YAAY,EAAEtB,QAA9C;AAAwD,IAAA,QAAQ,EAAEe;AAAlE,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAf,SADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAf,UAFF,eAGE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAf,UAHF,CADF,CAFF,CADF,CADF,eAaE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEO,MAAAA,IAAI,EAAE;AAAR,KAAT;AAAsB,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA1B;AAAuC,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA3C;AAAyD,IAAA,SAAS,EAAC;AAAnE,KACGL,SADH,SACiBC,OADjB,YACgCC,KADhC,CAbF,eAgBE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE;AAAEG,MAAAA,IAAI,EAAE;AAAR,KAAT;AAAsB,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA1B;AAAuC,IAAA,EAAE,EAAE;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAA3C;AAAyD,IAAA,SAAS,EAAC;AAAnE,kBACE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,WAAW,EAAEzB,WAFf;AAGE,IAAA,UAAU,EAAEsB,KAAK,IAAI,CAHvB;AAIE,IAAA,QAAQ,EAAEnB,QAJZ;AAKE,IAAA,YAAY,EAAGuB,IAAD,IAAwCzB,cAAc,CAACyB,IAAD;AALtE,IADF,CAhBF,CAdF,CADF;AA2CD,CAzED;;;AARE7B,EAAAA,c;AACAC,EAAAA,U;;AAkFF,eAAeL,UAAf","sourcesContent":["import { Col, Row, Select, TableProps } from 'antd';\nimport * as React from 'react';\nimport TableWrapper from './style';\nimport Table from \"../table\";\nimport Pagination from \"../pagination\";\n\nexport interface ITableLocalProps<T extends object> extends TableProps<T> {\n  orderingNumber?: number;\n  withNumber?: boolean;\n}\n\nconst { Option } = Select;\n\nconst startPage = 1;\n\nconst TableLocal = <T extends object = object>(props: ITableLocalProps<T>) => {\n  const { dataSource, columns = [], orderingNumber, withNumber = false, ...rest } = props;\n\n  const [currentPage, setCurrentPage] = React.useState(startPage);\n  const [pageSize, setPageSize] = React.useState(5);\n\n  const currentTableData = React.useMemo(() => {\n    const firstPageIndex = (currentPage - 1) * pageSize;\n    const lastPageIndex = firstPageIndex + pageSize;\n    return dataSource?.slice(firstPageIndex, lastPageIndex);\n  }, [dataSource, pageSize, currentPage]);\n\n  const numberColumn = [\n    {\n      title: 'No',\n      key: 'index',\n      width: 30,\n      render: (value: any, item: any, index: number) => (currentPage - 1) * pageSize + (index + 1),\n    },\n  ];\n\n  const onSizeChange = (size: React.SetStateAction<number>) => {\n    setPageSize(size);\n    setCurrentPage(1);\n  };\n\n  const startItem = (currentPage - 1) * pageSize + 1;\n  const endItem = currentPage * pageSize;\n  const total = dataSource?.length;\n\n  return (\n    <TableWrapper>\n      <Row>\n        <Col span={24}>\n          <Table\n            rowClassName={(record: any, index: number) =>\n              index % 2 === 0 ? 'table-row-light' : 'table-row-dark'\n            }\n            dataSource={currentTableData}\n            pagination={false}\n            columns={withNumber ? [...numberColumn, ...columns] : columns}\n            {...rest}\n          />\n        </Col>\n      </Row>\n      <Row justify=\"end\" align=\"middle\" className=\"action-bottom\">\n        <Col xl={{ span: 6 }} lg={{ span: 8 }} md={{ span: 12 }}>\n          <Row justify=\"end\" gutter={24}>\n            <Col>Baris per halaman</Col>\n            <Col>\n              <Select className=\"select-size\" defaultValue={pageSize} onChange={onSizeChange}>\n                <Option value={5}>5</Option>\n                <Option value={10}>10</Option>\n                <Option value={20}>20</Option>\n              </Select>\n            </Col>\n          </Row>\n        </Col>\n        <Col xl={{ span: 3 }} lg={{ span: 4 }} md={{ span: 12 }} className=\"text-right\">\n          {startItem} - {endItem} dari {total}\n        </Col>\n        <Col xl={{ span: 4 }} lg={{ span: 7 }} md={{ span: 12 }} className=\"text-right\">\n          <Pagination\n            className=\"pagination-bar\"\n            currentPage={currentPage}\n            totalCount={total || 0}\n            pageSize={pageSize}\n            onPageChange={(page: React.SetStateAction<number>) => setCurrentPage(page)}\n          />\n        </Col>\n      </Row>\n    </TableWrapper>\n  );\n};\n\nexport default TableLocal;\n"],"file":"index.js"}